import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const IMG_DIR = path.join(__dirname, '../public/img');
const OUTPUT_FILE = path.join(__dirname, '../src/image-list.ts');

const IMAGE_EXTENSIONS = /\.(jpe?g|png|gif|webp|bmp|svg)$/i;

const files = fs.readdirSync(IMG_DIR)
  .filter(file => IMAGE_EXTENSIONS.test(file))
  .map(file => file);

const content = `// This file is auto-generated by scripts/generate-image-list.js
export const IMAGE_FILES = ${JSON.stringify(files, null, 2)};
`;

fs.writeFileSync(OUTPUT_FILE, content, 'utf8');
console.log(`Generated ${OUTPUT_FILE} with ${files.length} images.`);

